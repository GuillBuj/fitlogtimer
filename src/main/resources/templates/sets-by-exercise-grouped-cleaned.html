<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <title>Liste des séries </title>
</head>
<body>
    <div th:insert="~{fragments/navbar :: navbar}"></div>
    <p th:if="${successMessage}" th:text="${successMessage}" class="alert alert-success"></p>
    <p th:if="${successRedMessage}" th:text="${successRedMessage}" class="alert alert-red"></p>
        <p th:if="${successMessage}" th:text="${successMessage}" class="alert alert-success"></p>
        <p th:if="${successRedMessage}" th:text="${successRedMessage}" class="alert alert-red"></p>
        <p th:if="${errorMessage}" th:text="${errorMessage}" class="alert alert-error"></p>
        
        <h1>Séries de <span th:text="${sets.exercise}"></span></h1>
        <a th:href="@{/exercises}" class="btn-link">Retour</a>
        <table th:if="${sets}">
            <tr>
                <th>Date</td>
                <th>Séries</td>
                <th th:if="${sets.type == 'FREE_WEIGHT'}">1RMest max</td>
                <th>Poids de corps</th>
                <th th:if="${sets.type == 'FREE_WEIGHT'}">Ratio</th>
                <th th:if="${sets.type == 'FREE_WEIGHT'}">1RMest avg</td>
                <th>Type séance</th>
            </tr>
            <tr th:each="set : ${sets.exerciseSets}">
                <td th:text="${set.date}"></td>
                <td th:text="${set.sets}"></td>
                <td th:if="${sets.type == 'FREE_WEIGHT'}" th:text="${set.est1RMmax}"></td>
                <td th:text="${set.bodyWeight}"></td>
                <td th:if="${sets.type == 'FREE_WEIGHT'}" th:text="${set.bodyWeight != 0 ? 
                    #numbers.formatDecimal(set.est1RMmax / set.bodyWeight, 1, 3) : '-'}"></td>
                <td th:if="${sets.type == 'FREE_WEIGHT'}" th:text="${set.est1RMavg}"></td>
                <td th:text="${set.type}"></td>
            </tr>
        </table>
        <a th:href="@{/exercises}" class="btn-link">Retour</a>
</body>
</html>